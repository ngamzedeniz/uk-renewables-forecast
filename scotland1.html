<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Scotland Renewable + Price Forecast</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body { font-family: Arial, sans-serif; margin:0; padding:20px; background:#f5f5f5; }
h1,h2 { text-align:center; }
.container { display:flex; flex-wrap:wrap; justify-content: space-between; gap:20px; }
.box { flex:1 1 45%; background:#fff; padding:15px; border-radius:8px; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
canvas { max-width:100%; height:300px; }
@media (max-width:800px){
  .box { flex:1 1 100%; }
}
p { font-style:italic; text-align:center; }
footer { text-align:center; margin-top:20px; font-size:0.9em; color:#555; }
</style>
</head>
<body>

<h1>Scotland Renewable + Price Forecast</h1>

<div class="container">
  <div class="box">
    <h2>Solar & Wind Forecast</h2>
    <canvas id="windSolarChart"></canvas>
    <p id="wsInsight"></p>
  </div>

  <div class="box">
    <h2>Price & Volume Forecast</h2>
    <canvas id="pvChart"></canvas>
    <p id="pvInsight"></p>
  </div>
</div>

<script>
// JSON verilerini data klasöründen çek
Promise.all([
  fetch("data/scotland_forecast.json").then(res=>res.json()),
  fetch("data/price_volume.json").then(res=>res.json())
]).then(([gfsData, pvData])=>{
  
  // Wind & Solar grafiği
  new Chart(document.getElementById("windSolarChart"),{
    type:"line",
    data:{
      labels:gfsData.days,
      datasets:[
        {label:"Wind MW", data:gfsData.windMW, borderColor:"blue", backgroundColor:"rgba(0,0,255,0.1)", fill:true, tension:0.3},
        {label:"Solar MW", data:gfsData.solarMW, borderColor:"orange", backgroundColor:"rgba(255,165,0,0.1)", fill:true, tension:0.3}
      ]
    },
    options:{
      responsive:true,
      plugins:{legend:{position:"top"}},
      interaction:{mode:'index', intersect:false},
      scales:{y:{beginAtZero:true, title:{display:true,text:"MW"}}}
    }
  });

  document.getElementById("wsInsight").textContent = "High pressure → Solar high, Wind low.";

  // Price & Volume grafiği
  new Chart(document.getElementById("pvChart"),{
    data:{
      labels:pvData.days,
      datasets:[
        {type:"bar", label:"Volume (MWh)", data:pvData.volume, backgroundColor:"rgba(0,123,255,0.5)"},
        {type:"line", label:"Price (£/MWh)", data:pvData.price, borderColor:"red", backgroundColor:"rgba(255,0,0,0.2)", yAxisID:"y1", tension:0.3}
      ]
    },
    options:{
      responsive:true,
      interaction:{mode:"index",intersect:false},
      scales:{
        y:{type:"linear", position:"left", title:{display:true,text:"Volume (MWh)"}},
        y1:{type:"linear", position:"right", title:{display:true,text:"Price (£/MWh)"}}
      }
    }
  });

  document.getElementById("pvInsight").textContent = "High wind → prices drop; Low renewables → prices rise.";

}).catch(err=>{
  console.error("Error loading JSON files:", err);
});
</script>

<footer>
Sources: <a href="https://www.ncei.noaa.gov/products/weather-climate-models/global-forecast-system" target="_blank">GFS (NOAA)</a>,
<a href="https://www.elexon.co.uk/" target="_blank">Elexon</a>.<br>
Developed by <strong>Gamze DENİZ</strong> - <a href="https://github.com/ngamzedeniz" target="_blank">GitHub</a>.
</footer>

</body>
</html>
